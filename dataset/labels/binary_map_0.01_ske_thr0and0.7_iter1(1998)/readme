generate skeleton: thr = 0
generate binary: thr = 0.7
